<!DOCTYPE html>
<html>
<head>
    <title>Teste Diferen√ßas de Data</title>
</head>
<body>
    <h1>üîç Teste Diferen√ßas de Data</h1>
    <button onclick="testarDatas()">Testar Diferen√ßas</button>
    <div id="resultado"></div>

    <script>
        // Simular as fun√ß√µes do app
        function formatarData(data) {
            const ano = data.getFullYear();
            const mes = String(data.getMonth() + 1).padStart(2, '0');
            const dia = String(data.getDate()).padStart(2, '0');
            return `${ano}-${mes}-${dia}`;
        }

        function obterDataAtual() {
            const agora = new Date();
            return agora;
        }

        function testarDatas() {
            const resultado = document.getElementById('resultado');
            resultado.innerHTML = '';

            // M√©todo do teste (que funciona)
            const metodoTeste = new Date().toISOString().split('T')[0];
            
            // M√©todo do modal (que n√£o funciona)
            const metodoModal = formatarData(obterDataAtual());

            resultado.innerHTML = `
                <h3>Compara√ß√£o de M√©todos:</h3>
                <p><strong>M√©todo Teste (funciona):</strong> "${metodoTeste}"</p>
                <p><strong>M√©todo Modal (n√£o funciona):</strong> "${metodoModal}"</p>
                <p><strong>S√£o iguais?</strong> ${metodoTeste === metodoModal ? '‚úÖ SIM' : '‚ùå N√ÉO'}</p>
                
                <h3>Teste Completo de Freebet:</h3>
            `;

            // Criar freebets com ambos os m√©todos
            const freebetTeste = {
                id: 'teste-' + Date.now(),
                titulo: 'Teste com m√©todo que funciona',
                valor: 50,
                casaDeApostas: 'Casa Teste',
                dataExpiracao: '2025-02-15',
                prejuizoParaAdquirir: 10,
                requisito: 'Teste',
                ativa: true,
                dataAquisicao: metodoTeste
            };

            const freebetModal = {
                id: 'modal-' + Date.now(),
                titulo: 'Teste com m√©todo do modal',
                valor: 75,
                casaDeApostas: 'Casa Modal',
                dataExpiracao: '2025-02-15',
                prejuizoParaAdquirir: 15,
                requisito: 'Modal',
                ativa: true,
                dataAquisicao: metodoModal
            };

            resultado.innerHTML += `
                <p><strong>Freebet Teste:</strong> ${JSON.stringify(freebetTeste, null, 2)}</p>
                <p><strong>Freebet Modal:</strong> ${JSON.stringify(freebetModal, null, 2)}</p>
            `;

            // Salvar ambas e verificar
            const chave = 'planilha-arb-freebets-v2';
            const existentes = JSON.parse(localStorage.getItem(chave) || '[]');
            
            existentes.push(freebetTeste);
            existentes.push(freebetModal);
            
            localStorage.setItem(chave, JSON.stringify(existentes));

            resultado.innerHTML += `
                <p><strong>Total salvo:</strong> ${existentes.length}</p>
                <p><strong>‚úÖ Ambas salvas com sucesso!</strong></p>
            `;
        }
    </script>
</body>
</html>
